<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Godot Engine"><meta name=description content="A fresh pack of stability and documentation improvements for teams still using Godot 4.0 is officially out!"><meta name=theme-color content="#3d8fcc"><meta property="og:site_name" content="Godot Engine"><meta property="og:url" content="https://godotengine.org/article/maintenance-release-godot-4-0-4/"><meta name=twitter:site content="@godotengine"><meta property="og:title" content="Maintenance release: Godot 4.0.4"><meta property="og:description" content="A fresh pack of stability and documentation improvements for teams still using Godot 4.0 is officially out!"><meta property="og:image" content="https://godotengine.org/storage/blog/covers/maintenance-release-godot-4-0-4.webp"><meta property="og:type" content="article"><meta name=twitter:card content="summary_large_image"><title>Maintenance release: Godot 4.0.4</title><link rel=alternate type=application/rss+xml title="Godot News" href=/rss.xml><link rel=icon href=/assets/favicon.png sizes=any><link rel=icon href=/assets/favicon.svg type=image/svg+xml><link rel=stylesheet href=/assets/css/main.css?112><link rel=stylesheet href=/assets/css/tobii.min.css><link rel=preload as=font href=/assets/fonts/Montserrat-Bold.woff2 crossorigin><link rel=preload as=font href=/assets/fonts/Montserrat-ExtraBold.woff2 crossorigin><link rel=me href=https://mastodon.gamedev.place/@godotengine><input type=checkbox id=nav_toggle_cb><header><div class="container flex align-center"><div id=nav_head><a href=/ id=logo-link><img class=nav-logo src=/assets/logo.svg width=136 height=48 alt="Godot Engine">
<img class="nav-logo dark-logo" src=/assets/logo_dark.svg width=136 height=48 alt="Godot Engine"></a>
<label for=nav_toggle_cb id=nav_toggle_btn><img src=/assets/icons/hamburger.svg width=24 height=24 alt="Main menu"></label></div><nav id=nav><ul class=left><li><a href=/features/>Features</a><li class=only-on-mobile><a href=/showcase/>Showcase</a><li><a href=/blog/>Blog</a><li><a href=/community/>Community</a><li><a href=/contact/>About</a><li><a href=https://godotengine.org/asset-library/asset>Assets</a></ul><ul class=right><li><a href=/download/windows/ class=set-os-download-url>Download</a><li><a href=https://docs.godotengine.org>Docs</a><li><a href=https://docs.godotengine.org/en/stable/community/contributing/index.html>Contribute</a><li class=fund><a href=https://fund.godotengine.org>❤&#xFE0E; Donate</a></ul></nav></div></header><main><style>body{background-color:var(--background-color)}h1{margin-bottom:8px;margin-top:32px}:not(pre)>code{background:var(--code-background-color);padding:1px 4px;font-size:.95em;border-radius:3px}pre{background:var(--codeblock-background-color);color:var(--codeblock-color)}pre code{display:block;overflow-x:auto;padding:.5em}.date-big{line-height:2;margin-left:32px}article{background-color:var(--base-color);box-shadow:0 3px 2px rgba(0,0,0,.15)}figure{margin:0}figure img{margin:0}article img,article video{max-width:100%;height:auto;display:block;margin:auto;margin-top:16px;margin-bottom:16px}article h1{margin-top:64px}article h2,article h3,article h4{margin-top:42px}.article-info{display:flex;flex-direction:column;gap:8px}.article-metadata{display:flex;gap:24px;align-items:center;font-family:var(--header-font-family);margin-bottom:12px}@media(max-width:900px){.article-metadata{flex-direction:column;align-items:flex-start;gap:16px}}.article-author{color:var(--base-color-text-subtitle-date);font-weight:700;font-size:18px;flex-grow:1;display:flex;gap:12px;align-items:center}.article-author .avatar{border-radius:100%;margin:0}.article-author .by{color:var(--base-color-text-subtitle)}.article-metadata .date{color:var(--base-color-text-subtitle-date)}.article-metadata .date.post-recent-highlight{color:var(--post-recent-highlight-color);opacity:.8}.article-metadata .date.post-recent-highlight::after{font-size:80%;content:"NEW";border:2px solid var(--post-recent-highlight-color);padding:2px 3px;margin-left:8px}.tag.active{filter:saturate(.75)}@media screen and (min-width:900px){article .content{width:70%;margin:auto}}@media(max-width:900px){body{background-color:var(--base-color)}article{background-color:initial;box-shadow:none}article img:first-child,article video:first-child{max-width:100%}}</style><link rel=stylesheet href=/assets/css/highlight.obsidian.min.css><div class=container><article class=padded><div class="content article-container"><figure class=article-cover><figcaption><strong>Sky Runner</strong>
<span style=margin-left:.75rem;font-size:90%>A game by Leon Stansfield</span></figcaption><img src=/storage/blog/covers/maintenance-release-godot-4-0-4.webp title="Sky Runner" alt="Sky Runner A game by Leon Stansfield" class=rounded-lg style=width:100%;height:auto;background-color:initial></figure><div class=article-info><h1>Maintenance release: Godot 4.0.4</h1><div class=article-metadata><div class=article-author><span>By:</span>
<img class=avatar width=25 height=25 src=/assets/images/authors/yuri.jpeg alt="Yuri Sizov" loading=lazy>
<span class=by>Yuri Sizov</span></div><span class=date data-post-date="2023-08-03 13:00:00 +0000">3 August 2023</span></div><div class=tags><a href=/blog/release><div class="tag active">Release</div></a></div></div><div class=article-body><p>It has been a busy few months since the release of <a href=/article/maintenance-release-godot-4-0-3>Godot 4.0.3</a>, the previous stable version of the 4.0 branch. And while some of the developers took the opportunity to migrate their projects to the latest release of <a href=/article/maintenance-release-godot-4-1-1>Godot 4.1.1</a> or even to try our experimental builds of <a href=/article/dev-snapshot-godot-4-2-dev-2>Godot 4.2</a>, many others chose to pin the version and stick to it for the sake of stability.<p>And so it’s our goal to improve said stability as long as we can manage it. Godot 4.0.4 contains a multitude of changes — addressing reported issues, performance problems and some frictions in the usability department. It also adds some of the missing documentation, and corrects a few mistakes in existing descriptions.<p>One important change in this release is a security fix for a potential denial of service when using ENet. If your project uses <code class="language-plaintext highlighter-rouge">ENetMultiplayerPeer</code> or the low-level <code class="language-plaintext highlighter-rouge">ENetConnection</code>, then we strongly recommend updating to this version. Thanks to <a href=https://github.com/Facundo15>Facundo Fernández</a> for reporting this vulnerability. A patch has been submitted to the upstream ENet repository as well.<p><a href=https://github.com/godotengine/godot/releases/tag/4.0.4-stable><strong>Download Godot 4.0.4 now</strong></a> or try the <a href=https://editor.godotengine.org/4.0.4.stable/>online version of the Godot editor</a>.<p><em>The illustration picture used for this release is from</em> <a href=https://leon-stansfield.itch.io/sky-runner><strong>Sky Runner</strong></a> <em>— a speed running game by <a href=https://twitter.com/Leonstansfield0>Leon Stansfield</a> where your goal is simple: get from point A to point B… across a set of sky islands with some tricks up your sleeve. It’s being made with Godot 4 and you get try out the demo on <a href=https://leon-stansfield.itch.io/sky-runner>itch.io</a> right now! You should also follow Leon on <a href=https://twitter.com/Leonstansfield0>Twitter</a> or <a href=https://mastodon.gamedev.place/@leonstansfield>Mastodon</a> for updates and other demos and experiments that he creates with Godot.</em><h2 id=changes>Changes</h2><p><strong>72 contributors</strong> made <strong>158 pull-requests</strong> (or <strong>166 commits</strong>) as a part of this release. See the <a href=https://github.com/godotengine/godot/blob/4.0.4-stable/CHANGELOG.md><strong>curated changelog</strong></a> for a list of most notable differences, or browse our <a href=https://godotengine.github.io/godot-interactive-changelog/#4.0.4><strong>interactive changelog</strong></a> for a complete list of changes with links to relevant PRs and commits.<p>Here are the main changes since 4.0.3-stable:<ul><li>2D: Don’t create bones from empty scene (<a href=https://github.com/godotengine/godot/pull/77473>GH-77473</a>).<li>2D: Draw materials in tile atlas view (<a href=https://github.com/godotengine/godot/pull/77909>GH-77909</a>).<li>2D: Fix various crashes in the tileset editor (<a href=https://github.com/godotengine/godot/pull/77382>GH-77382</a>, <a href=https://github.com/godotengine/godot/pull/78165>GH-78165</a>, <a href=https://github.com/godotengine/godot/pull/78796>GH-78796</a>).<li>3D: Fix CSGPolygon3D in path mode disappearing at runtime (<a href=https://github.com/godotengine/godot/pull/77118>GH-77118</a>).<li>Animation: Adjust BoneAttachment3D children/meshes during rest fixer (<a href=https://github.com/godotengine/godot/pull/77123>GH-77123</a>).<li>Animation: Improve <code class="language-plaintext highlighter-rouge">Skeleton3D::find_bone()</code> performance (<a href=https://github.com/godotengine/godot/pull/77307>GH-77307</a>).<li>Animation: Fix for SkeletonIK3D interpolation and bone roll (<a href=https://github.com/godotengine/godot/pull/77469>GH-77469</a>).<li>Animation: Fix AnimationPlayer cumulative <code class="language-plaintext highlighter-rouge">speed_scale</code> (<a href=https://github.com/godotengine/godot/pull/77500>GH-77500</a>).<li>Audio: Fix trim when importing WAV (<a href=https://github.com/godotengine/godot/pull/75261>GH-75261</a>).<li>Audio: Fix 2D audio in multiple viewports (<a href=https://github.com/godotengine/godot/pull/76713>GH-76713</a>).<li>C#: Synchronize adding ScriptInstances (<a href=https://github.com/godotengine/godot/pull/75188>GH-75188</a>).<li>C#: Fix C# glue generation for enums with negative values (<a href=https://github.com/godotengine/godot/pull/77018>GH-77018</a>).<li>C#: Add version defines to help users deal with breaking changes (<a href=https://github.com/godotengine/godot/pull/78270>GH-78270</a>).<li>Core: Fix <code class="language-plaintext highlighter-rouge">StringName</code> comparison (<a href=https://github.com/godotengine/godot/pull/77197>GH-77197</a>).<li>Core: Ignore the <code class="language-plaintext highlighter-rouge">project_settings_override</code> file when in editor (<a href=https://github.com/godotengine/godot/pull/77459>GH-77459</a>).<li>Editor: Add an editor option to copy system info to clipboard (<a href=https://github.com/godotengine/godot/pull/65902>GH-65902</a>).<li>Editor: Add a <code class="language-plaintext highlighter-rouge">scale_gizmo_handles</code> entry to the <code class="language-plaintext highlighter-rouge">Touchscreen</code> editor settings (<a href=https://github.com/godotengine/godot/pull/75718>GH-75718</a>).<li>Editor: Make sure script cache is created after reimport (<a href=https://github.com/godotengine/godot/pull/75798>GH-75798</a>).<li>Editor: Allow up to INT32_MAX max size in Array/Dictionary editor (<a href=https://github.com/godotengine/godot/pull/77225>GH-77225</a>).<li>Editor: Avoid error spam on first opening of a not yet imported project (<a href=https://github.com/godotengine/godot/pull/77276>GH-77276</a>).<li>Editor: Fix <code class="language-plaintext highlighter-rouge">Window</code> derived nodes being unselectable for <code class="language-plaintext highlighter-rouge">ViewportTexture</code> <code class="language-plaintext highlighter-rouge">NodePath</code> (<a href=https://github.com/godotengine/godot/pull/77312>GH-77312</a>).<li>GDScript: Fix warning ignoring for member variables (<a href=https://github.com/godotengine/godot/pull/76203>GH-76203</a>).<li>GDScript: Fix extraction of chained <code class="language-plaintext highlighter-rouge">tr()</code> calls (<a href=https://github.com/godotengine/godot/pull/77538>GH-77538</a>).<li>GDScript: Treat <code class="language-plaintext highlighter-rouge">BitField&lt;Enum></code> as <code class="language-plaintext highlighter-rouge">int</code> (not <code class="language-plaintext highlighter-rouge">Enum</code>) (<a href=https://github.com/godotengine/godot/pull/77579>GH-77579</a>).<li>GUI: ItemList: Fix item text positions in RTL mode (<a href=https://github.com/godotengine/godot/pull/77166>GH-77166</a>).<li>GUI: Use defined key mapping for closing popups and dialogs (<a href=https://github.com/godotengine/godot/pull/77297>GH-77297</a>).<li>GUI: TextServer: Prevent duplicate line breaks on virtual spaces when line width is significantly smaller than character width (<a href=https://github.com/godotengine/godot/pull/77514>GH-77514</a>).<li>Input: Improve touchpad and mouse support for the Android editor (<a href=https://github.com/godotengine/godot/pull/77498>GH-77498</a>).<li>Input: Fix spatial viewport multitouch detection support (<a href=https://github.com/godotengine/godot/pull/78083>GH-78083</a>).<li>Network: Fix HTTPClient <code class="language-plaintext highlighter-rouge">_request</code>` using wrong size (<a href=https://github.com/godotengine/godot/pull/75867>GH-75867</a>).<li>Network: Better handle truncated socket messages (<a href=https://github.com/godotengine/godot/pull/79699>GH-79699</a>).<li>Particles: Correctly reset particle size and rotation in ParticlesProcessMaterial (<a href=https://github.com/godotengine/godot/pull/78021>GH-78021</a>).<li>Physics: Fix width and center position of <code class="language-plaintext highlighter-rouge">CapsuleShape2D::get_rect</code> (<a href=https://github.com/godotengine/godot/pull/77065>GH-77065</a>).<li>Porting: Android: Fix crash in the Android editor when creating a new AudioStreamMicrophone (<a href=https://github.com/godotengine/godot/pull/77686>GH-77686</a>).<li>Porting: Android: Set pending intent flag to stop insta-crash (<a href=https://github.com/godotengine/godot/pull/78175>GH-78175</a>).<li>Porting: Windows: Fix for Win+M crashing the editor (<a href=https://github.com/godotengine/godot/pull/78235>GH-78235</a>).<li>Rendering: Disable AMD switchable graphics on Windows with Vulkan to fix driver issue (<a href=https://github.com/godotengine/godot/pull/73450>GH-73450</a>).<li>Rendering: Fix modulation propagation for Y-sorted CanvasItems (<a href=https://github.com/godotengine/godot/pull/77079>GH-77079</a>).<li>Rendering: Fix LightmapGI dynamic object lighting (<a href=https://github.com/godotengine/godot/pull/77089>GH-77089</a>).<li>Rendering: Fix calculation of skinned AABB for unused bones (<a href=https://github.com/godotengine/godot/pull/77265>GH-77265</a>).<li>Rendering: Take 3D resolution scaling into account for mesh LOD (<a href=https://github.com/godotengine/godot/pull/77294>GH-77294</a>).<li>Rendering: Fix uninitialized Y-sort modulate for CanvasItems (<a href=https://github.com/godotengine/godot/pull/78134>GH-78134</a>).<li>Thirdparty: CA certificates 2023.06, brotli ed1995b6b, msdfgen 1.10, recast 1.6.0, tinyexr 1.0.5, wslay 0e7d106ff, zstd 1.5.5.<li>As well as many improvements to the documentation.</ul><p>One previously accepted change from RC1 was reverted in the stable release to preserve compatibility:<ul><li>Animation: Fix <code class="language-plaintext highlighter-rouge">get_bone_global_pose_no_override()</code> returning incorrect values (<a href=https://github.com/godotengine/godot/pull/77194>GH-77194</a>).</ul><h2 id=known-incompatibilities>Known incompatibilities</h2><p>As of now, there are no known incompatibilities with previous Godot 4.0 releases. <strong>We encourage all users to upgrade to 4.0.4.</strong><p>If you experience any unexpected behavior change in your projects after upgrading to 4.0.4, please <a href=https://github.com/godotengine/godot/issues>file an issue on GitHub</a>.<h2 id=support>Support</h2><p>Godot is a non-profit, open source game engine developed by hundreds of contributors on their free time, as well as a handful of part or full-time developers hired thanks to <a href=https://fund.godotengine.org/>generous donations from the Godot community</a>. A big thank you to everyone who has contributed <a href=https://github.com/godotengine/godot/blob/master/AUTHORS.md>their time</a> or <a href=https://github.com/godotengine/godot/blob/master/DONORS.md>their financial support</a> to the project!<p>If you’d like to support the project financially and help us secure our future hires, you can do so using the <a href=https://fund.godotengine.org/>Godot Development Fund</a> platform managed by <a href=https://godot.foundation/>Godot Foundation</a>. There are also several <a href=/donate>alternative ways to donate</a> which you may find more suitable.</div></div></article></div><link rel=stylesheet href=/assets/css/anchor-link.css?1><link rel=stylesheet href=/assets/css/article-cards.css?2><script src=/assets/js/anchor-link.js></script>
<script>document.addEventListener('DOMContentLoaded',()=>{window.applyAnchorLinks('.article-body'),document.querySelectorAll('.article-cover img, .article-body img').forEach(b=>{if(b.classList.contains('lightbox-ignore'))return;const a=document.createElement('a');a.href=b.src,a.classList.add('lightbox'),a.dataset.group='article',b.parentNode.appendChild(a),a.appendChild(b)})})</script></main><footer><div class="container flex footer-container"><div id=copyright><p>© 2007-2024 Juan Linietsky, Ariel Manzur and <a href=https://github.com/godotengine/godot/blob/master/AUTHORS.md target=_blank rel=noopener>contributors</a>.<br>Hosted by the <a href=https://godot.foundation/ target=_blank rel=noopener>Godot Foundation</a>.<br>Website <a href=https://github.com/godotengine/godot-website target=_blank rel=noopener>source code on GitHub</a>.</div><div id=sitemap><ul class=sitemap-group><li><strong>Get Godot</strong><li><a href=/download/windows/ class=set-os-download-url>Download</a><li><a href=/download/archive/>Release Archive</a><li><a href=https://editor.godotengine.org/releases/latest/>Web Editor</a><li>&nbsp;<li><strong>Public Relations</strong><li><a href=/blog/>Blog</a><li><a href=/community/>Communities and Events</a><li><a href=/press/>Press Kit</a></ul><ul class=sitemap-group><li><strong>About Godot</strong><li><a href=/features/>Features</a><li><a href=/showcase/>Showcase</a><li><a href=/education/>Education</a><li><a href=/license/>License</a><li><a href=/code-of-conduct/>Code of Conduct</a><li><a href=/privacy-policy/>Privacy Policy</a><li><a href=https://fund.godotengine.org>Donate</a></ul><ul class=sitemap-group><li><strong>Project Team</strong><li><a href=/governance/>Governance</a><li><a href=/teams/>Teams</a><li>&nbsp;<li><strong>Extra Resources</strong><li><a href=https://godotengine.org/asset-library/asset>Asset Library</a><li><a href=https://docs.godotengine.org>Documentation</a><li><a href=https://github.com/godotengine>Code Repository</a></ul></div><div id=social class=dark-desaturate><h4 class=text-right><a href=/contact/>Contact us</a></h4><div class="flex justify-space-between" style=gap:3px><a href=https://github.com/godotengine target=_blank rel=noopener><img src=/assets/footer/github_logo.svg width=32 height=32 alt=GitHub></a>
<a href=https://mastodon.gamedev.place/@godotengine target=_blank rel=noopener><img src=/assets/footer/mastodon_logo.svg width=32 height=32 alt=Mastodon></a>
<a href=https://twitter.com/godotengine target=_blank rel=noopener><img src=/assets/footer/twitter_logo.svg width=32 height=32 alt=Twitter></a>
<a href=https://www.facebook.com/groups/godotengine/ target=_blank rel=noopener><img src=/assets/footer/facebook_logo.svg width=32 height=32 alt=Facebook></a>
<a href=https://www.reddit.com/r/godot target=_blank rel=noopener><img src=/assets/footer/reddit_logo.svg width=32 height=32 alt=Red​dit></a>
<a href=/rss.xml target=_blank rel=noopener><img src=/assets/footer/feed_logo.svg width=32 height=32 alt="RSS feed"></a></div></div></div></footer><script defer src=/assets/js/tobii.min.js></script>
<script defer src=/assets/js/highlight.min.js?1></script>
<script defer src=/assets/js/highlight.gdscript.min.js?1></script>
<script>document.addEventListener('DOMContentLoaded',()=>{document.querySelectorAll('pre code').forEach(a=>{hljs.highlightBlock(a)}),document.querySelectorAll('[data-post-date]').forEach(a=>{Date.parse(a.dataset.postDate)>Date.now()-1e3*60*60*48&&a.classList.add("post-recent-highlight")}),new Tobii({zoom:!1});const a=document.querySelectorAll('.set-os-download-url');for(let b=0;b<a.length;b++){const c=a[b];let e='download';'version'in c.dataset&&c.dataset.version==='3'&&(e='download/3.x');let d='windows';navigator.platform.indexOf('Mac')!==-1?d='macos':navigator.platform.indexOf('Linux')!==-1&&(d='linux'),c.href=`/${e}/${d}/`}})</script>