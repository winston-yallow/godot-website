<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Godot Engine"><meta name=description content="An update on the current state of the particle system in Godot, and some hints about what the future holds!"><meta name=theme-color content="#3d8fcc"><meta property="og:site_name" content="Godot Engine"><meta property="og:url" content="https://godotengine.org/article/progress-report-state-of-particles/"><meta name=twitter:site content="@godotengine"><meta property="og:title" content="State of particles and future updates"><meta property="og:description" content="An update on the current state of the particle system in Godot, and some hints about what the future holds!"><meta property="og:image" content="https://godotengine.org/storage/blog/covers/progress-report-state-of-particles.webp"><meta property="og:type" content="article"><meta name=twitter:card content="summary_large_image"><title>State of particles and future updates</title><link rel=alternate type=application/rss+xml title="Godot News" href=/rss.xml><link rel=icon href=/assets/favicon.png sizes=any><link rel=icon href=/assets/favicon.svg type=image/svg+xml><link rel=stylesheet href=/assets/css/main.css?112><link rel=stylesheet href=/assets/css/tobii.min.css><link rel=preload as=font href=/assets/fonts/Montserrat-Bold.woff2 crossorigin><link rel=preload as=font href=/assets/fonts/Montserrat-ExtraBold.woff2 crossorigin><link rel=me href=https://mastodon.gamedev.place/@godotengine><input type=checkbox id=nav_toggle_cb><header><div class="container flex align-center"><div id=nav_head><a href=/ id=logo-link><img class=nav-logo src=/assets/logo.svg width=136 height=48 alt="Godot Engine">
<img class="nav-logo dark-logo" src=/assets/logo_dark.svg width=136 height=48 alt="Godot Engine"></a>
<label for=nav_toggle_cb id=nav_toggle_btn><img src=/assets/icons/hamburger.svg width=24 height=24 alt="Main menu"></label></div><nav id=nav><ul class=left><li><a href=/features/>Features</a><li class=only-on-mobile><a href=/showcase/>Showcase</a><li><a href=/blog/>Blog</a><li><a href=/community/>Community</a><li><a href=/contact/>About</a><li><a href=https://godotengine.org/asset-library/asset>Assets</a></ul><ul class=right><li><a href=/download/windows/ class=set-os-download-url>Download</a><li><a href=https://docs.godotengine.org>Docs</a><li><a href=https://docs.godotengine.org/en/stable/community/contributing/index.html>Contribute</a><li class=fund><a href=https://fund.godotengine.org>❤&#xFE0E; Donate</a></ul></nav></div></header><main><style>body{background-color:var(--background-color)}h1{margin-bottom:8px;margin-top:32px}:not(pre)>code{background:var(--code-background-color);padding:1px 4px;font-size:.95em;border-radius:3px}pre{background:var(--codeblock-background-color);color:var(--codeblock-color)}pre code{display:block;overflow-x:auto;padding:.5em}.date-big{line-height:2;margin-left:32px}article{background-color:var(--base-color);box-shadow:0 3px 2px rgba(0,0,0,.15)}figure{margin:0}figure img{margin:0}article img,article video{max-width:100%;height:auto;display:block;margin:auto;margin-top:16px;margin-bottom:16px}article h1{margin-top:64px}article h2,article h3,article h4{margin-top:42px}.article-info{display:flex;flex-direction:column;gap:8px}.article-metadata{display:flex;gap:24px;align-items:center;font-family:var(--header-font-family);margin-bottom:12px}@media(max-width:900px){.article-metadata{flex-direction:column;align-items:flex-start;gap:16px}}.article-author{color:var(--base-color-text-subtitle-date);font-weight:700;font-size:18px;flex-grow:1;display:flex;gap:12px;align-items:center}.article-author .avatar{border-radius:100%;margin:0}.article-author .by{color:var(--base-color-text-subtitle)}.article-metadata .date{color:var(--base-color-text-subtitle-date)}.article-metadata .date.post-recent-highlight{color:var(--post-recent-highlight-color);opacity:.8}.article-metadata .date.post-recent-highlight::after{font-size:80%;content:"NEW";border:2px solid var(--post-recent-highlight-color);padding:2px 3px;margin-left:8px}.tag.active{filter:saturate(.75)}@media screen and (min-width:900px){article .content{width:70%;margin:auto}}@media(max-width:900px){body{background-color:var(--base-color)}article{background-color:initial;box-shadow:none}article img:first-child,article video:first-child{max-width:100%}}</style><link rel=stylesheet href=/assets/css/highlight.obsidian.min.css><div class=container><article class=padded><div class="content article-container"><figure class=article-cover><img src=/storage/blog/covers/progress-report-state-of-particles.webp title alt=" " class=rounded-lg style=width:100%;height:auto;background-color:initial></figure><div class=article-info><h1>State of particles and future updates</h1><div class=article-metadata><div class=article-author><span>By:</span>
<img class=avatar width=25 height=25 src=/assets/images/authors/ilaria.webp alt="Ilaria Cislaghi" loading=lazy>
<span class=by>Ilaria Cislaghi</span></div><span class=date data-post-date="2023-10-23 13:00:00 +0000">23 October 2023</span></div><div class=tags><a href=/blog/progress-report><div class="tag active">Progress Report</div></a></div></div><div class=article-body><p><em>TL;DR: In 4.2 GPUParticles were refactored and lots of new features were added. Due to high maintenance cost and bug surface, CPUParticles will keep the current feature set.</em><hr><p>Godot 4 offers a great opportunity to make some long-requested and much needed changes in many areas, and one of those areas is particle nodes and resources. Before 4.0 some settings used to be a bit confusing and clunky to work with. Now a lot of things have changed: parameters are set with a range using min and max boundaries instead of value and random deviation; there’s a particle collision system; there’s a turbulence system, there are sub-emitters, and much more.<p>All around, particles already received a lot of love during the development of Godot 4. However, a number of key features were still missing as of 4.1. Below I go into detail about additions and improvements made to the particle system in the last few months, which you can test already in the <a href=/article/dev-snapshot-godot-4-2-beta-1/>beta release of Godot 4.2</a>.</p><video autoplay loop muted playsinline title="A countdown with particle effects by Rensei">
<source src=/storage/blog/2023-oct-state-of-particles/final-countdown.mp4 type=video/mp4></video><p><em>A countdown with particle effects by <a href=https://twitter.com/TheRensei>Rensei</a>.</em><h2 id=artistic-control>Artistic control</h2><p>Godot’s existing particle system made an assumption that people would use it for more physically accurate simulations, which are suited for more realistic games. But in practice a vast majority of projects in the Godot ecosystem choose a stylized art direction.<p>This creates a big pain point when using current particles. In order to obtain an exaggerated motion and snappy timings in visual effects, an acceleration-based approach just doesn’t cut it. It ends up really clunky, hard to use, and sometimes achieving certain effects is not possible.<p>To address these issues, and more, the <code class="language-plaintext highlighter-rouge">GPUParticles</code> system has been refactored and expanded upon. Particles can now support not only realistic types of effects, but also more stylized ones with more exaggerated motion. Additionally, a couple of long-requested quality of life features were added.<h2 id=the-new-gpuparticles>The new <code class="language-plaintext highlighter-rouge">GPUParticles</code></h2><p><strong>NOTE:</strong> These changes should be 100% backwards compatible. If particles look different after updating, please <a href=https://github.com/godotengine/godot/issues/new/choose>file a bug report</a>.<p><em><a href=https://github.com/godotengine/godot/pull/78851>Pioneering of this work</a> was kindly sponsored by <a href=https://www.pahdolabs.com/>Pahdo Labs</a>.</em> After further iteration, this was eventually merged in <a href=https://github.com/godotengine/godot/pull/79527>GH-79527</a>.<h3 id=new-parameters-for-gpuparticles-nodes>New parameters for <code class="language-plaintext highlighter-rouge">GPUParticles</code> nodes</h3><p>Two new parameters were added to <code class="language-plaintext highlighter-rouge">GPUParticles2D</code>/<code class="language-plaintext highlighter-rouge">GPUParticles3D</code> nodes:<ul><li><code class="language-plaintext highlighter-rouge">amount_ratio</code>: from 0 to 1, a percentage of particles compared to the amount that will be emitted.<li><code class="language-plaintext highlighter-rouge">interp_to_end</code>: from 0 to 1, allows to interpolate all particles from the same node simultaneously towards the end of their lifetime.</ul><video autoplay loop muted playsinline title="A Night Elf scythe attack effect by Tuppy">
<source src=/storage/blog/2023-oct-state-of-particles/night-elf-scythe-by-tuppy.mp4 type=video/mp4></video><p><em>A Night Elf scythe attack effect by <a href=https://twitter.com/onetupthree>Tuppy</a>.</em><h3 id=changes-in-particleprocessmaterial>Changes in <code class="language-plaintext highlighter-rouge">ParticleProcessMaterial</code></h3><p>The main change in the particle material is the big-big refactor of the internal code. The code was split into smaller, reusable functions, which are
called both from <code class="language-plaintext highlighter-rouge">start()</code> and <code class="language-plaintext highlighter-rouge">process()</code>. This ensures better consistency and maintainability.<p>Multiple configuration options were added or changed to expand control over damping, emission, and velocity.<p>Damping changes include:<ul><li><code class="language-plaintext highlighter-rouge">damping_as_friction</code>: flag that changes the behavior of damping from a constant
deceleration to a deceleration based on speed.</ul><p>Emission changes include:<ul><li><code class="language-plaintext highlighter-rouge">emission_shape_offset</code>: an offset for the emission shape, in the node’s local space.<li><code class="language-plaintext highlighter-rouge">emission_shape_scale</code>: the scale of the emission shape, in the node’s local space.<li><code class="language-plaintext highlighter-rouge">inherit_velocity_ratio</code>: a percentage of the emitter’s velocity to inherit on spawn.</ul><p>Velocity changes include:<ul><li><code class="language-plaintext highlighter-rouge">velocity_pivot</code>: a pivot point used for calculating radial and orbital velocity.<li><code class="language-plaintext highlighter-rouge">directional_velocity</code>: velocity along an axis; requires an XYZ curve.<li><code class="language-plaintext highlighter-rouge">orbit_velocity</code>: orbit velocity can now be used without toggling <code class="language-plaintext highlighter-rouge">disable_z</code>; requires an XYZ curve; axes are in the node’s local space.<li><code class="language-plaintext highlighter-rouge">radial_velocity</code>: velocity away or towards the velocity pivot.<li><code class="language-plaintext highlighter-rouge">velocity_limit</code>: a curve defining a hard limit for the particles’ velocity following their lifetime.<li><code class="language-plaintext highlighter-rouge">scale_over_velocity</code>: a curve that allows to scale particles on a given axis.</ul><p>On top of that, an optional separation between alpha over lifetime and emission over lifetime was added. Note that emission over lifetime just multiplies the <code class="language-plaintext highlighter-rouge">COLOR</code> value of the particle by a given value. This needs to be properly read in the display shader.<p>You can also check out <a href=https://github.com/godotengine/godot/pull/79527>GH-79527</a>, which covers the bulk of these changes.<p>I can’t wait to see all that you’ll make with it! In the meantime, enjoy these VFX made by the testers of the PR.</p><video autoplay loop muted playsinline title="A compilation of various effects created by community members during testing">
<source src=/storage/blog/2023-oct-state-of-particles/particle-fiesta-by-community.mp4?1 type=video/mp4></video><p><em>Various particle effects created by community members to help test the rework. Credits go to <a href=https://gotibo.fr/>Thibaud</a>, <a href=https://github.com/Calinou>Calinou</a>, and myself, <a href=https://social.sparkles.cafe/@qbie>QbieShay</a></em><h2 id=and-what-about-cpuparticles>And what about <code class="language-plaintext highlighter-rouge">CPUParticles</code>?</h2><p>CPU particles have been maintained alongside GPU particles for a long time, but it’s becoming <a href=https://github.com/godotengine/godot-proposals/issues/7344>harder and harder to keep feature parity</a>, especially after big changes such as the ones described above. CPU particles were added at the time of the GLES2 renderer in Godot 3, which did not have the capability to support GPU particles. Godot 4 has Vulkan and GLES3 renderers, both of which support GPU particles. This makes it hard to justify maintaining four separate nodes in two different languages (GLSL and C++).<p>Because of that, we now see the <code class="language-plaintext highlighter-rouge">CPUParticles</code> as a lower-end, simpler alternative to GPU particles, instead of a CPU-based, 1-to-1 fallback option. It’s likely that no more features will be added to <code class="language-plaintext highlighter-rouge">CPUParticles</code>, though we still welcome PRs that bring them to parity with the GPU ones. We recommend migrating your effects to <code class="language-plaintext highlighter-rouge">GPUParticles</code>. To help you with the migration, <a href=https://github.com/godotengine/godot/pull/80779>a converter from CPU particles to a GPU equivalent</a> was added.<p>From Godot 4.2 onwards, new features for <code class="language-plaintext highlighter-rouge">CPUParticles</code> will not be accepted unless they have a counterpart in <code class="language-plaintext highlighter-rouge">GPUParticles</code>. However, contributions to bring CPU particles to feature parity are welcome.<h2 id=the-future-development>The future development</h2><p>For now, development around particles will remain focused on fixing bugs that may have gotten past the review. While a lot of people tested the PR, there still can be lesser used features and edge cases with issues. Thanks to everyone who helped with the development and testing! It was a huge undertaking and it wouldn’t be possible without every single one of you &lt;3<p>I will be taking time to assess the current needs of the VFX pipeline in Godot. My goal, first and foremost, is to enable an artist-friendly workflow. This means reducing the number of technicalities and “gotchas” that Godot currently puts in front of technical artists. In no specific order, here are a couple of things currently on my mind: visual shader support for process materials, additional visual shader nodes, and more spawn options for particles. You can check the <a href=https://github.com/orgs/godotengine/projects/54>VFX and Techart wishlist</a> on GitHub for more information on what’s in the works.<p>Note that there’s currently no contributor specifically hired to work on particles, therefore I cannot promise any timeline for all this planned work. All those things depend on how much time I can dedicate to Godot and how much time other contributors can offer for this area as well.<p>If you would like to help with the development of these features, please, consider <a href=https://fund.godotengine.org/>supporting the project financially</a>! More funding allows us to sponsor volunteer contributors and better respond to technical demands of project users.<p>You can also help by offering your expertise! If you wish to participate in the development, do reach out either on the <a href=https://chat.godotengine.org/channel/rendering>Godot Contributors Chat</a> or in the <a href=https://discord.gg/HX4xAGaGjm>shader/VFX focused Discord community</a>.</div></div></article></div><link rel=stylesheet href=/assets/css/anchor-link.css?1><link rel=stylesheet href=/assets/css/article-cards.css?2><script src=/assets/js/anchor-link.js></script>
<script>document.addEventListener('DOMContentLoaded',()=>{window.applyAnchorLinks('.article-body'),document.querySelectorAll('.article-cover img, .article-body img').forEach(b=>{if(b.classList.contains('lightbox-ignore'))return;const a=document.createElement('a');a.href=b.src,a.classList.add('lightbox'),a.dataset.group='article',b.parentNode.appendChild(a),a.appendChild(b)})})</script></main><footer><div class="container flex footer-container"><div id=copyright><p>© 2007-2024 Juan Linietsky, Ariel Manzur and <a href=https://github.com/godotengine/godot/blob/master/AUTHORS.md target=_blank rel=noopener>contributors</a>.<br>Hosted by the <a href=https://godot.foundation/ target=_blank rel=noopener>Godot Foundation</a>.<br>Website <a href=https://github.com/godotengine/godot-website target=_blank rel=noopener>source code on GitHub</a>.</div><div id=sitemap><ul class=sitemap-group><li><strong>Get Godot</strong><li><a href=/download/windows/ class=set-os-download-url>Download</a><li><a href=/download/archive/>Release Archive</a><li><a href=https://editor.godotengine.org/releases/latest/>Web Editor</a><li>&nbsp;<li><strong>Public Relations</strong><li><a href=/blog/>Blog</a><li><a href=/community/>Communities and Events</a><li><a href=/press/>Press Kit</a></ul><ul class=sitemap-group><li><strong>About Godot</strong><li><a href=/features/>Features</a><li><a href=/showcase/>Showcase</a><li><a href=/education/>Education</a><li><a href=/license/>License</a><li><a href=/code-of-conduct/>Code of Conduct</a><li><a href=/privacy-policy/>Privacy Policy</a><li><a href=https://fund.godotengine.org>Donate</a></ul><ul class=sitemap-group><li><strong>Project Team</strong><li><a href=/governance/>Governance</a><li><a href=/teams/>Teams</a><li>&nbsp;<li><strong>Extra Resources</strong><li><a href=https://godotengine.org/asset-library/asset>Asset Library</a><li><a href=https://docs.godotengine.org>Documentation</a><li><a href=https://github.com/godotengine>Code Repository</a></ul></div><div id=social class=dark-desaturate><h4 class=text-right><a href=/contact/>Contact us</a></h4><div class="flex justify-space-between" style=gap:3px><a href=https://github.com/godotengine target=_blank rel=noopener><img src=/assets/footer/github_logo.svg width=32 height=32 alt=GitHub></a>
<a href=https://mastodon.gamedev.place/@godotengine target=_blank rel=noopener><img src=/assets/footer/mastodon_logo.svg width=32 height=32 alt=Mastodon></a>
<a href=https://twitter.com/godotengine target=_blank rel=noopener><img src=/assets/footer/twitter_logo.svg width=32 height=32 alt=Twitter></a>
<a href=https://www.facebook.com/groups/godotengine/ target=_blank rel=noopener><img src=/assets/footer/facebook_logo.svg width=32 height=32 alt=Facebook></a>
<a href=https://www.reddit.com/r/godot target=_blank rel=noopener><img src=/assets/footer/reddit_logo.svg width=32 height=32 alt=Red​dit></a>
<a href=/rss.xml target=_blank rel=noopener><img src=/assets/footer/feed_logo.svg width=32 height=32 alt="RSS feed"></a></div></div></div></footer><script defer src=/assets/js/tobii.min.js></script>
<script defer src=/assets/js/highlight.min.js?1></script>
<script defer src=/assets/js/highlight.gdscript.min.js?1></script>
<script>document.addEventListener('DOMContentLoaded',()=>{document.querySelectorAll('pre code').forEach(a=>{hljs.highlightBlock(a)}),document.querySelectorAll('[data-post-date]').forEach(a=>{Date.parse(a.dataset.postDate)>Date.now()-1e3*60*60*48&&a.classList.add("post-recent-highlight")}),new Tobii({zoom:!1});const a=document.querySelectorAll('.set-os-download-url');for(let b=0;b<a.length;b++){const c=a[b];let e='download';'version'in c.dataset&&c.dataset.version==='3'&&(e='download/3.x');let d='windows';navigator.platform.indexOf('Mac')!==-1?d='macos':navigator.platform.indexOf('Linux')!==-1&&(d='linux'),c.href=`/${e}/${d}/`}})</script>