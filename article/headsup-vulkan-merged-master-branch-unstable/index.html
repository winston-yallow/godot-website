<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Godot Engine"><meta name=description content="Godot 3.2 was released two weeks ago, and it's now time to go full steam ahead towards our next milestone, Godot 4.0. The Vulkan port which had been worked on in a dedicated branch is now getting merged in our main development branch, which has a few implications on what to expect from the 'master' branch and how pending Pull Requests will be impacted."><meta name=theme-color content="#3d8fcc"><meta property="og:site_name" content="Godot Engine"><meta property="og:url" content="https://godotengine.org/article/headsup-vulkan-merged-master-branch-unstable/"><meta name=twitter:site content="@godotengine"><meta property="og:title" content="Headsup: Vulkan merged, master branch unstable"><meta property="og:description" content="Godot 3.2 was released two weeks ago, and it's now time to go full steam ahead towards our next milestone, Godot 4.0. The Vulkan port which had been worked on in a dedicated branch is now getting merged in our main development branch, which has a few implications on what to expect from the 'master' branch and how pending Pull Requests will be impacted."><meta property="og:image" content="https://godotengine.org/storage/app/uploads/public/5e4/29f/3d0/5e429f3d06b36035564587.png"><meta property="og:type" content="article"><meta name=twitter:card content="summary_large_image"><title>Headsup: Vulkan merged, master branch unstable</title><link rel=alternate type=application/rss+xml title="Godot News" href=/rss.xml><link rel=icon href=/assets/favicon.png sizes=any><link rel=icon href=/assets/favicon.svg type=image/svg+xml><link rel=stylesheet href=/assets/css/main.css?112><link rel=stylesheet href=/assets/css/tobii.min.css><link rel=preload as=font href=/assets/fonts/Montserrat-Bold.woff2 crossorigin><link rel=preload as=font href=/assets/fonts/Montserrat-ExtraBold.woff2 crossorigin><link rel=me href=https://mastodon.gamedev.place/@godotengine><input type=checkbox id=nav_toggle_cb><header><div class="container flex align-center"><div id=nav_head><a href=/ id=logo-link><img class=nav-logo src=/assets/logo.svg width=136 height=48 alt="Godot Engine">
<img class="nav-logo dark-logo" src=/assets/logo_dark.svg width=136 height=48 alt="Godot Engine"></a>
<label for=nav_toggle_cb id=nav_toggle_btn><img src=/assets/icons/hamburger.svg width=24 height=24 alt="Main menu"></label></div><nav id=nav><ul class=left><li><a href=/features/>Features</a><li class=only-on-mobile><a href=/showcase/>Showcase</a><li><a href=/blog/>Blog</a><li><a href=/community/>Community</a><li><a href=/contact/>About</a><li><a href=https://godotengine.org/asset-library/asset>Assets</a></ul><ul class=right><li><a href=/download/windows/ class=set-os-download-url>Download</a><li><a href=https://docs.godotengine.org>Docs</a><li><a href=https://docs.godotengine.org/en/stable/community/contributing/index.html>Contribute</a><li class=fund><a href=https://fund.godotengine.org>❤&#xFE0E; Donate</a></ul></nav></div></header><main><style>body{background-color:var(--background-color)}h1{margin-bottom:8px;margin-top:32px}:not(pre)>code{background:var(--code-background-color);padding:1px 4px;font-size:.95em;border-radius:3px}pre{background:var(--codeblock-background-color);color:var(--codeblock-color)}pre code{display:block;overflow-x:auto;padding:.5em}.date-big{line-height:2;margin-left:32px}article{background-color:var(--base-color);box-shadow:0 3px 2px rgba(0,0,0,.15)}figure{margin:0}figure img{margin:0}article img,article video{max-width:100%;height:auto;display:block;margin:auto;margin-top:16px;margin-bottom:16px}article h1{margin-top:64px}article h2,article h3,article h4{margin-top:42px}.article-info{display:flex;flex-direction:column;gap:8px}.article-metadata{display:flex;gap:24px;align-items:center;font-family:var(--header-font-family);margin-bottom:12px}@media(max-width:900px){.article-metadata{flex-direction:column;align-items:flex-start;gap:16px}}.article-author{color:var(--base-color-text-subtitle-date);font-weight:700;font-size:18px;flex-grow:1;display:flex;gap:12px;align-items:center}.article-author .avatar{border-radius:100%;margin:0}.article-author .by{color:var(--base-color-text-subtitle)}.article-metadata .date{color:var(--base-color-text-subtitle-date)}.article-metadata .date.post-recent-highlight{color:var(--post-recent-highlight-color);opacity:.8}.article-metadata .date.post-recent-highlight::after{font-size:80%;content:"NEW";border:2px solid var(--post-recent-highlight-color);padding:2px 3px;margin-left:8px}.tag.active{filter:saturate(.75)}@media screen and (min-width:900px){article .content{width:70%;margin:auto}}@media(max-width:900px){body{background-color:var(--base-color)}article{background-color:initial;box-shadow:none}article img:first-child,article video:first-child{max-width:100%}}</style><link rel=stylesheet href=/assets/css/highlight.obsidian.min.css><div class=container><article class=padded><div class="content article-container"><figure class=article-cover><img src=/storage/app/uploads/public/5e4/29f/3d0/5e429f3d06b36035564587.png title alt=" " class=rounded-lg style=width:100%;height:auto;background-color:initial></figure><div class=article-info><h1>Headsup: Vulkan merged, master branch unstable</h1><div class=article-metadata><div class=article-author><span>By:</span>
<img class=avatar width=25 height=25 src=/assets/images/authors/akien.webp alt="Rémi Verschelde" loading=lazy>
<span class=by>Rémi Verschelde</span></div><span class=date data-post-date="2020-02-11 14:17:11 +0000">11 February 2020</span></div><div class=tags><a href=/blog/news><div class="tag active">News</div></a></div></div><div class="card card-warning"><p>This article is from <strong>February 2020</strong>, some of its contents might be outdated and no longer accurate.<br>You can find up-to-date information about the engine in the <a href=https://docs.godotengine.org/en/stable/>official documentation</a>.</div><div class=article-body><p>In many Git-based development workflows, the default <code class="language-plaintext highlighter-rouge">master</code> branch is where most of the development happens. It can be from well-defined feature branches (or in our situation Pull Requests) that are merged into <code class="language-plaintext highlighter-rouge">master</code> once ready, or with development work happening directly on this branch. Whatever the workflow, the <code class="language-plaintext highlighter-rouge">master</code> branch will rarely be meant for use in production, and end users are only encouraged to use it if they want to help with day-to-day testing, not if they want to get some work done :)<p>As we do our releases directly from the <code class="language-plaintext highlighter-rouge">master</code> branch after a stabilization period (feature freeze, release freeze and then branching off to e.g. <code class="language-plaintext highlighter-rouge">3.2</code> when releasing), many of our users are used to running the <code class="language-plaintext highlighter-rouge">master</code> branch or a nightly build as a daily driver.<p><a href=https://github.com/godotengine/godot/pull/36098>This changes today</a> as we merge our <strong>work-in-progress Vulkan port</strong> (until now in the <a href=https://github.com/godotengine/godot/commits/vulkan><code class="language-plaintext highlighter-rouge">vulkan</code></a> branch) in the <code class="language-plaintext highlighter-rouge">master</code> branch.<h2 id=why-merge-now-if-its-wip>Why merge now if it’s WIP?</h2><p>The Vulkan port is not ready yet, but we need to get it merged into the <code class="language-plaintext highlighter-rouge">master</code> branch as a lot of further development planned for Godot 4.0 depends on it.<p>We plan to rework a lot of Godot’s internals (<code class="language-plaintext highlighter-rouge">core</code>) to allow fixing long-standing design issues and improving performance (including GDScript performance improvements). Moreover, our long-awaited port to C++14 will also happen now that the <code class="language-plaintext highlighter-rouge">vulkan</code> branch is merged into <code class="language-plaintext highlighter-rouge">master</code>, and many other codebase-wide changes were waiting for this: code style changes, Display/OS split, renaming of 3D nodes to unify our conventions, etc.<p>The scope of the planned changes means that it would be impossible to do these changes in the <code class="language-plaintext highlighter-rouge">master</code> branch while keeping the <code class="language-plaintext highlighter-rouge">vulkan</code> branch separate, just as it would not be possible to do all those changes in the <code class="language-plaintext highlighter-rouge">vulkan</code> branch itself before merging into <code class="language-plaintext highlighter-rouge">master</code>: any rebase/merge would become extremely difficult due to the sheer amount of lines of code that will change.<p>Up until now, we’ve been very cautious with regard to what changes we allow in the <code class="language-plaintext highlighter-rouge">vulkan</code> branch, as well as what new PRs we merge in <code class="language-plaintext highlighter-rouge">master</code>, to ensure that the <code class="language-plaintext highlighter-rouge">vulkan</code> branch can always be rebased on top of <code class="language-plaintext highlighter-rouge">master</code> for a later merge. I’ve been rebasing it periodically over the past 8 months, and even though we’ve been very conservative in the scope of the changes, in later months a full rebase could easily take me a full day of work.<p>So we need everything in the main branch to stop limiting ourselves.<h2 id=what-changes>What changes?</h2><p>The <code class="language-plaintext highlighter-rouge">vulkan</code> branch includes the preliminary support for the Vulkan graphics API, which Juan has been covering in many <a href=/devblog>devblogs</a> (see e.g. <a href=https://godotengine.org/article/vulkan-progress-report-6>last progress report</a>).<p>In its current state, the Vulkan port works on Linux, macOS and Windows only. Support for other platforms will be restored in coming months prior to the 4.0 alpha release.<p>Godot 3.2’s GLES2 and GLES3 backends have been disabled as they do not match the new design of the <code class="language-plaintext highlighter-rouge">RenderingDevice</code> API. The GLES3 will eventually be completely removed, and the GLES2 backend will have to be ported to the new API. This will also be done in coming months.<p>In the meantime, it means that the <code class="language-plaintext highlighter-rouge">master</code> branch will be Vulkan and desktop-only for some time. Please bear with us during this transition period, and be assured that bringing back mobile and web support are high on the priority list. (Note that the actual platform ports are of course still included in the latest code, but without a properly setup rendering backend, they don’t have anything to show.)<h2 id=implications-for-users>Implications for users</h2><p>If you’re a “regular” Godot user, nothing changes for you. We strongly recommend that you use the latest stable version, which is Godot 3.2. We’re all hyped for Godot 4.0, but at the current stage, it’s much saner to wait for engine developers to do their Earth-shattering magic. Once we have an alpha build that it worth testing broadly, we’ll be sure to let you know :)<p>If you need custom fixes for your game, feel free to track the stable <a href=https://github.com/godotengine/godot/commits/3.2><code class="language-plaintext highlighter-rouge">3.2</code></a> branch, which will be used for all upcoming 3.2.x maintenance releases.<h2 id=implications-for-code-contributors>Implications for code contributors</h2><p>Even though it’s less stable and lacks full support for all platforms, the <code class="language-plaintext highlighter-rouge">master</code> branch stays our main development branch, and any Pull Request should be merged in that branch in priority. Relevant changes merged in the <code class="language-plaintext highlighter-rouge">master</code> branch can eventually be cherry-picked in the <code class="language-plaintext highlighter-rouge">3.2</code> branch for maintenance releases (especially bug fixes).<p>As the <code class="language-plaintext highlighter-rouge">master</code> and <code class="language-plaintext highlighter-rouge">3.2</code> branches will quickly diverge a lot, cherry-picking changes may end up being non trivial, so it might become necessary for 3.2-relevant PRs to also see a custom version for the <code class="language-plaintext highlighter-rouge">3.2</code> branch. Yet, we ask that you please <strong>focus first on <code class="language-plaintext highlighter-rouge">master</code></strong> and discuss with us whether a <code class="language-plaintext highlighter-rouge">3.2</code>-specific PR would be welcome. We do not want to merge new features or experimental changes in the 3.2 branch that could compromise its stability.<h2 id=what-about-pending-pull-requests>What about pending Pull Requests?</h2><p>Due to the <a href=https://github.com/godotengine/godot/issues/31592>feature freeze</a> for the recent 3.2 release, we have literally <a href=https://github.com/godotengine/godot/pulls>hundreds of Pull Requests</a> which are pending review/merge on the Godot repository.<p>Many of them are relevant and would be worth merging, yet the merge of the <code class="language-plaintext highlighter-rouge">vulkan</code> branch and the upcoming refactoring work will introduce complex merge conflicts for the vast majority of them.<p>Ideally, we’d want to clear that backlog before doing such massive codebase-wide changes, but we know from experience that we do not have the capacity to do so. It’s a nice problem to have, but Godot’s popularity and the sheer amount of PRs that we get on a daily basis are extremely time consuming to handle, and such a backlog would take us many months to resolve (while struggling to keep on top of new PRs).<p>On top of that, many of these PRs pre-date or did not follow our new <a href=https://github.com/godotengine/godot-proposals/>proposals workflow</a>, which aims at ensuring that all changes we merge are actually useful additions to the engine and supported by the community. Reviewing PRs which have not been pre-approved at the idea/design stage can be very difficult, as we don’t always know ourselves whether a code proposal is a good idea: we can review the code, but reviewing use cases is a difficult task for which we need help from experienced community members.<p>We discussed this at the Godot Sprint with core contributors in late January, and we decided on the following approach as the most practical one. We will <strong>close all pending PRs</strong>, asking their authors to:<ul><li>Review if the proposal/bugfix is still wanted/necessary in the current <code class="language-plaintext highlighter-rouge">master</code> branch<li>For feature proposals, ensure that they have been approved via the <a href=https://github.com/godotengine/godot-proposals/>godot-proposals</a> repository<li>If relevant, rebase (or reimplement) the patch on the current <code class="language-plaintext highlighter-rouge">master</code> branch and open a new PR (referencing the old one for completeness)</ul><p>While closing PRs may seem a bit abrupt, we ask all contributors to understand that this is done to help us cope with the sheer amount of proposals in parallel to having to refactor a lot of the engine’s codebase. This closing does not mean that we <em>reject</em> the PRs, nor that we do not seem them as worthy contributions. But by asking the authors to re-assess their own proposals and make them compatible with Godot 4.0, we will save a lot of precious development time and get ourselves some breathing air in the current overcrowded PRs.<p>Closed PRs will have the <code class="language-plaintext highlighter-rouge">salvageable</code> label, which we use to denote PRs with code that could be salvaged to make a new, updated (and possibly improved) PR, either by the original author or by a new contributor. So we will not lose code in the process, since everything will still be accessible from the closed PRs and easily identifiable thanks to the <code class="language-plaintext highlighter-rouge">salvageable</code> label.<p>This is definitely a tricky time for core developers and engine contributors, and we ask everyone for their understanding. I for one feel a moral obligation towards all contributors to review their work and get it merged if it’s good, and so this proposed cleanup is not an easy decision for me to act upon, but I do see that it’s the most efficient way that we have to avoid getting stuck in an endless PR backlog (as we were to some extent following the 3.1 release, even though the backlog at that time was barely 250 PRs…).<p><strong>Note:</strong> We’ll wait a couple of weeks before closing all older PRs as outlined above, since many codebase-wise changes are planned in coming days. We do not want to encourage all contributors to rebase their work endlessly in the middle of those changes, so it will be better to send this signal once the <code class="language-plaintext highlighter-rouge">master</code> branch is ready to welcome those refreshed contributions.</div></div></article></div><link rel=stylesheet href=/assets/css/anchor-link.css?1><link rel=stylesheet href=/assets/css/article-cards.css?2><script src=/assets/js/anchor-link.js></script>
<script>document.addEventListener('DOMContentLoaded',()=>{window.applyAnchorLinks('.article-body'),document.querySelectorAll('.article-cover img, .article-body img').forEach(b=>{if(b.classList.contains('lightbox-ignore'))return;const a=document.createElement('a');a.href=b.src,a.classList.add('lightbox'),a.dataset.group='article',b.parentNode.appendChild(a),a.appendChild(b)})})</script></main><footer><div class="container flex footer-container"><div id=copyright><p>© 2007-2024 Juan Linietsky, Ariel Manzur and <a href=https://github.com/godotengine/godot/blob/master/AUTHORS.md target=_blank rel=noopener>contributors</a>.<br>Hosted by the <a href=https://godot.foundation/ target=_blank rel=noopener>Godot Foundation</a>.<br>Website <a href=https://github.com/godotengine/godot-website target=_blank rel=noopener>source code on GitHub</a>.</div><div id=sitemap><ul class=sitemap-group><li><strong>Get Godot</strong><li><a href=/download/windows/ class=set-os-download-url>Download</a><li><a href=/download/archive/>Release Archive</a><li><a href=https://editor.godotengine.org/releases/latest/>Web Editor</a><li>&nbsp;<li><strong>Public Relations</strong><li><a href=/blog/>Blog</a><li><a href=/community/>Communities and Events</a><li><a href=/press/>Press Kit</a></ul><ul class=sitemap-group><li><strong>About Godot</strong><li><a href=/features/>Features</a><li><a href=/showcase/>Showcase</a><li><a href=/education/>Education</a><li><a href=/license/>License</a><li><a href=/code-of-conduct/>Code of Conduct</a><li><a href=/privacy-policy/>Privacy Policy</a><li><a href=https://fund.godotengine.org>Donate</a></ul><ul class=sitemap-group><li><strong>Project Team</strong><li><a href=/governance/>Governance</a><li><a href=/teams/>Teams</a><li>&nbsp;<li><strong>Extra Resources</strong><li><a href=https://godotengine.org/asset-library/asset>Asset Library</a><li><a href=https://docs.godotengine.org>Documentation</a><li><a href=https://github.com/godotengine>Code Repository</a></ul></div><div id=social class=dark-desaturate><h4 class=text-right><a href=/contact/>Contact us</a></h4><div class="flex justify-space-between" style=gap:3px><a href=https://github.com/godotengine target=_blank rel=noopener><img src=/assets/footer/github_logo.svg width=32 height=32 alt=GitHub></a>
<a href=https://mastodon.gamedev.place/@godotengine target=_blank rel=noopener><img src=/assets/footer/mastodon_logo.svg width=32 height=32 alt=Mastodon></a>
<a href=https://twitter.com/godotengine target=_blank rel=noopener><img src=/assets/footer/twitter_logo.svg width=32 height=32 alt=Twitter></a>
<a href=https://www.facebook.com/groups/godotengine/ target=_blank rel=noopener><img src=/assets/footer/facebook_logo.svg width=32 height=32 alt=Facebook></a>
<a href=https://www.reddit.com/r/godot target=_blank rel=noopener><img src=/assets/footer/reddit_logo.svg width=32 height=32 alt=Red​dit></a>
<a href=/rss.xml target=_blank rel=noopener><img src=/assets/footer/feed_logo.svg width=32 height=32 alt="RSS feed"></a></div></div></div></footer><script defer src=/assets/js/tobii.min.js></script>
<script defer src=/assets/js/highlight.min.js?1></script>
<script defer src=/assets/js/highlight.gdscript.min.js?1></script>
<script>document.addEventListener('DOMContentLoaded',()=>{document.querySelectorAll('pre code').forEach(a=>{hljs.highlightBlock(a)}),document.querySelectorAll('[data-post-date]').forEach(a=>{Date.parse(a.dataset.postDate)>Date.now()-1e3*60*60*48&&a.classList.add("post-recent-highlight")}),new Tobii({zoom:!1});const a=document.querySelectorAll('.set-os-download-url');for(let b=0;b<a.length;b++){const c=a[b];let e='download';'version'in c.dataset&&c.dataset.version==='3'&&(e='download/3.x');let d='windows';navigator.platform.indexOf('Mac')!==-1?d='macos':navigator.platform.indexOf('Linux')!==-1&&(d='linux'),c.href=`/${e}/${d}/`}})</script>