<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Godot Engine"><meta name=description content="How the transition to a unified .NET has impacted platform support, and re-adding the ability to port to mobile."><meta name=theme-color content="#3d8fcc"><meta property="og:site_name" content="Godot Engine"><meta property="og:url" content="https://godotengine.org/article/platform-state-in-csharp-for-godot-4-2/"><meta name=twitter:site content="@godotengine"><meta property="og:title" content="Current state of C# platform support in Godot 4.2"><meta property="og:description" content="How the transition to a unified .NET has impacted platform support, and re-adding the ability to port to mobile."><meta property="og:image" content="https://godotengine.org/storage/blog/covers/progress-update-csharp-2.webp"><meta property="og:type" content="article"><meta name=twitter:card content="summary_large_image"><title>Current state of C# platform support in Godot 4.2</title><link rel=alternate type=application/rss+xml title="Godot News" href=/rss.xml><link rel=icon href=/assets/favicon.png sizes=any><link rel=icon href=/assets/favicon.svg type=image/svg+xml><link rel=stylesheet href=/assets/css/main.css?112><link rel=stylesheet href=/assets/css/tobii.min.css><link rel=preload as=font href=/assets/fonts/Montserrat-Bold.woff2 crossorigin><link rel=preload as=font href=/assets/fonts/Montserrat-ExtraBold.woff2 crossorigin><link rel=me href=https://mastodon.gamedev.place/@godotengine><input type=checkbox id=nav_toggle_cb><header><div class="container flex align-center"><div id=nav_head><a href=/ id=logo-link><img class=nav-logo src=/assets/logo.svg width=136 height=48 alt="Godot Engine">
<img class="nav-logo dark-logo" src=/assets/logo_dark.svg width=136 height=48 alt="Godot Engine"></a>
<label for=nav_toggle_cb id=nav_toggle_btn><img src=/assets/icons/hamburger.svg width=24 height=24 alt="Main menu"></label></div><nav id=nav><ul class=left><li><a href=/features/>Features</a><li class=only-on-mobile><a href=/showcase/>Showcase</a><li><a href=/blog/>Blog</a><li><a href=/community/>Community</a><li><a href=/contact/>About</a><li><a href=https://godotengine.org/asset-library/asset>Assets</a></ul><ul class=right><li><a href=/download/windows/ class=set-os-download-url>Download</a><li><a href=https://docs.godotengine.org>Docs</a><li><a href=https://docs.godotengine.org/en/stable/community/contributing/index.html>Contribute</a><li class=fund><a href=https://fund.godotengine.org>❤&#xFE0E; Donate</a></ul></nav></div></header><main><style>body{background-color:var(--background-color)}h1{margin-bottom:8px;margin-top:32px}:not(pre)>code{background:var(--code-background-color);padding:1px 4px;font-size:.95em;border-radius:3px}pre{background:var(--codeblock-background-color);color:var(--codeblock-color)}pre code{display:block;overflow-x:auto;padding:.5em}.date-big{line-height:2;margin-left:32px}article{background-color:var(--base-color);box-shadow:0 3px 2px rgba(0,0,0,.15)}figure{margin:0}figure img{margin:0}article img,article video{max-width:100%;height:auto;display:block;margin:auto;margin-top:16px;margin-bottom:16px}article h1{margin-top:64px}article h2,article h3,article h4{margin-top:42px}.article-info{display:flex;flex-direction:column;gap:8px}.article-metadata{display:flex;gap:24px;align-items:center;font-family:var(--header-font-family);margin-bottom:12px}@media(max-width:900px){.article-metadata{flex-direction:column;align-items:flex-start;gap:16px}}.article-author{color:var(--base-color-text-subtitle-date);font-weight:700;font-size:18px;flex-grow:1;display:flex;gap:12px;align-items:center}.article-author .avatar{border-radius:100%;margin:0}.article-author .by{color:var(--base-color-text-subtitle)}.article-metadata .date{color:var(--base-color-text-subtitle-date)}.article-metadata .date.post-recent-highlight{color:var(--post-recent-highlight-color);opacity:.8}.article-metadata .date.post-recent-highlight::after{font-size:80%;content:"NEW";border:2px solid var(--post-recent-highlight-color);padding:2px 3px;margin-left:8px}.tag.active{filter:saturate(.75)}@media screen and (min-width:900px){article .content{width:70%;margin:auto}}@media(max-width:900px){body{background-color:var(--base-color)}article{background-color:initial;box-shadow:none}article img:first-child,article video:first-child{max-width:100%}}</style><link rel=stylesheet href=/assets/css/highlight.obsidian.min.css><div class=container><article class=padded><div class="content article-container"><figure class=article-cover><img src=/storage/blog/covers/progress-update-csharp-2.webp title alt=" " class=rounded-lg style=width:100%;height:auto;background-color:initial></figure><div class=article-info><h1>Current state of C# platform support in Godot 4.2</h1><div class=article-metadata><div class=article-author><span>By:</span>
<img class=avatar width=25 height=25 src=/assets/images/authors/raulsantos.webp alt="Raul Santos" loading=lazy>
<span class=by>Raul Santos</span></div><span class=date data-post-date="2024-01-26 17:00:00 +0000">26 January 2024</span></div><div class=tags><a href=/blog/progress-report><div class="tag active">Progress Report</div></a></div></div><div class=article-body><p>With the recent release of Godot <a href=/article/godot-4-2-arrives-in-style>4.2</a>, projects that use C# can now export to Android and iOS. Let’s take a look at the current platform support for C# projects and what to expect from future releases beyond 4.2.<h2 id=background>Background</h2><p>First a bit of history. Godot 3 supports exporting C# projects to all the platforms supported by the engine. The C# implementation uses the <a href=https://www.mono-project.com/docs/advanced/embedding/>Mono embedding APIs</a> and the <a href=https://www.mono-project.com/docs/advanced/runtime/>Mono runtime</a>. <strong>Mono</strong> is an open source cross-platform implementation of the Windows-only .NET Framework.<p>With the <a href=https://godotengine.org/article/godot-4-0-sets-sail/>4.0 release</a>, the C# integration moved away from the Mono embedding APIs and replaced it with the .NET Core hosting APIs (using the <code class="language-plaintext highlighter-rouge">hostfxr</code> library). This allowed us to modernize the codebase and prepare for <a href=https://devblogs.microsoft.com/dotnet/introducing-net-5/>.NET 5</a>, the first release in the .NET unification journey. Unfortunately, in this move C# projects lost the ability to export to platforms other than Desktop (Windows, macOS and Linux).<p>Before <strong>.NET unification</strong> there was the Windows-only .NET Framework and the cross-platform Mono and .NET Core. Unification means there will be just one .NET going forward, so the next release after .NET Core 3.0 was named .NET 5, and Mono and .NET Framework won’t have any new major releases.<p>The term <strong>Mono</strong> can be used to refer to a collection of technologies. With .NET unification, the Mono framework is deprecated, but the runtime is still supported. Unified .NET uses both the CoreCLR and the Mono runtimes, but Mono is the only runtime that supports mobile and web platforms.<p>However, in .NET 7.0 a new runtime became available, <a href=https://learn.microsoft.com/en-us/dotnet/core/deploying/native-aot><strong>NativeAOT</strong></a>, which allows publishing native binaries built for a specific platform, instead of the JIT-based portable binaries. In .NET 7.0, NativeAOT only supports Windows and Linux, but in .NET 8.0 it adds support for macOS and experimental support for Android and iOS. This means in .NET 8.0 NativeAOT can be used as an alternative to Mono for mobile platforms.<h2 id=platform-support-in-42>Platform support in 4.2</h2><p>Thanks to amazing work by <a href=https://github.com/RedworkDE>RedworkDE</a> and <a href=https://github.com/shana>Andreia Gaita</a>, C# projects in Godot <a href=/article/godot-4-2-arrives-in-style>4.2</a> have <em>experimental</em> support for exporting to <strong>Android</strong> and <strong>iOS</strong>.<p>These initial implementations have some limitations which is why they are still marked experimental. We want to make sure the platform support is production-ready before we remove the experimental label. The platform limitations are documented in the <a href=https://docs.godotengine.org/en/4.2/tutorials/scripting/c_sharp/index.html#c-platform-support>C# documentation</a>, but we’ll go over each platform here.<h3 id=android>Android</h3><p>Android support was implemented in <a href=https://github.com/godotengine/godot/pull/73257>GH-73257</a> by <a href=https://github.com/RedworkDE>RedworkDE</a> and uses the .NET hosting APIs provided, just like the desktop platforms.<p>Exporting to Android requires .NET <strong>7.0</strong> or higher, uses the <a href=https://github.com/dotnet/runtime/pull/66147><strong>linux-bionic</strong></a> Mono runtime, and only supports the <code class="language-plaintext highlighter-rouge">arm64</code> and <code class="language-plaintext highlighter-rouge">x64</code> architectures.<p>The <strong>linux-bionic</strong> runtime is a Linux runtime using the Android C library, so it’s basically Android but without the JNI. This means that the Android bindings are not available, so some APIs (such as <a href=https://github.com/godotengine/godot/issues/84559>SSL</a>) will crash the game. Use the Godot APIs when possible to avoid these issues.<p>Using NativeAOT should also be supported in theory, but it requires using .NET <strong>8.0</strong> and some manual work. You can read more about using NativeAOT with Android bionic in the <a href=https://github.com/dotnet/runtime/blob/v8.0.0/src/coreclr/nativeaot/docs/android-bionic.md>Microsoft documentation</a>.<h3 id=ios>iOS</h3><p>iOS support was implemented in <a href=https://github.com/godotengine/godot/pull/82729>GH-82729</a> by <a href=https://github.com/shana>Andreia Gaita</a> and uses the new <strong>NativeAOT</strong> runtime which has experimental support for iOS in .NET <strong>8.0</strong>.<p>NativeAOT uses trimming and Godot still uses reflection in parts of the codebase, so we are rooting the Godot bindings and the game project’s assemblies but some reflection usage may still break at runtime.<p>Exporting to iOS is only supported from a macOS device and requires using Xcode to build the final binaries.<p>The official export template for the iOS simulator only supports the <code class="language-plaintext highlighter-rouge">x64</code> architecture.<h3 id=web>Web</h3><p>The web platform is still <strong>not supported</strong> in 4.2.<p>For non-C# projects, Godot uses <a href=https://emscripten.org/>Emscripten</a> to compile C++ code to <a href=https://webassembly.org/>Web Assembly</a> (WASM) that can be run as “native code” in web browsers. The Godot WASM acts as the main module and it’s able to load other WASMs that are built as side modules. GDExtensions that are used in web exports are built as WASM side modules so Godot can load them dynamically.<p>When building C# projects for the web platform, .NET is able to build a WASM but this can’t be used by Godot because .NET expects to be the main entry point and doesn’t support <a href=https://github.com/dotnet/runtime/issues/75257>dynamic linking</a>. This is because, currently, the .NET runtime can only be built as a main module. So, unlike GDExtensions, the resulting WASM can’t be loaded by Godot.<p>Future upstream improvements may allow using the WASM built by the .NET workload.<h3 id=desktop>Desktop</h3><p>Desktop platforms have been supported since 4.0, but what some users may not know is that those platforms support all .NET runtimes. This is not new to 4.2 and, in fact, has been supported since 4.0. Godot’s C# integration uses standard .NET so everything that works in a normal C# project should work in Godot too. To use a different runtime from the default (which is CoreCLR), users have to modify the C# project file (<code class="language-plaintext highlighter-rouge">.csproj</code>) as documented in the Microsoft documentation.<p>To enable NativeAOT in desktop platforms, make sure to target .NET 7.0 or higher and set the <code class="language-plaintext highlighter-rouge">&lt;PublishAOT></code> property to true. Also, since Godot uses reflection, make sure to root the assemblies (this is done automatically for you when exporting to iOS because NativeAOT is currently the only supported runtime). Here’s an example C# project:<div class="language-xml highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=nt>&lt;Project</span> <span class=na>Sdk=</span><span class=s>"Godot.NET.Sdk/4.2.0"</span><span class=nt>&gt;</span>
  <span class=nt>&lt;PropertyGroup&gt;</span>
    <span class=nt>&lt;TargetFramework&gt;</span>net8.0<span class=nt>&lt;/TargetFramework&gt;</span>
    <span class=nt>&lt;EnableDynamicLoading&gt;</span>true<span class=nt>&lt;/EnableDynamicLoading&gt;</span>
    <span class=c>&lt;!-- Use NativeAOT. --&gt;</span>
    <span class=nt>&lt;PublishAOT&gt;</span>true<span class=nt>&lt;/PublishAOT&gt;</span>
  <span class=nt>&lt;/PropertyGroup&gt;</span>
  <span class=nt>&lt;ItemGroup&gt;</span>
    <span class=c>&lt;!-- Root the assemblies to avoid trimming. --&gt;</span>
    <span class=nt>&lt;TrimmerRootAssembly</span> <span class=na>Include=</span><span class=s>"GodotSharp"</span> <span class=nt>/&gt;</span>
    <span class=nt>&lt;TrimmerRootAssembly</span> <span class=na>Include=</span><span class=s>"$(TargetName)"</span> <span class=nt>/&gt;</span>
  <span class=nt>&lt;/ItemGroup&gt;</span>
<span class=nt>&lt;/Project&gt;</span>
</code></pre></div></div><h3 id=summary>Summary</h3><p>As a summary, the current platform support as of 4.2 is described in the table below:<table><thead><tr><th style=text-align:right>Platform<th>Runtimes supported<th>Minimum required .NET version<tbody><tr><td style=text-align:right><strong>Windows</strong><td>CoreCLR, Mono, NativeAOT<td>6.0 (CoreCLR), 7.0 (Mono, NativeAOT)<tr><td style=text-align:right><strong>macOS</strong><td>CoreCLR, Mono, NativeAOT<td>6.0 (CoreCLR), 7.0 (Mono, NativeAOT)<tr><td style=text-align:right><strong>Linux</strong><td>CoreCLR, Mono, NativeAOT<td>6.0 (CoreCLR), 7.0 (Mono, NativeAOT)<tr><td style=text-align:right><strong>Android</strong><td>Mono<td>7.0<tr><td style=text-align:right><strong>iOS</strong><td>NativeAOT<td>8.0<tr><td style=text-align:right><strong>Web</strong><td>-<td>-</table><h2 id=whats-next>What’s next?</h2><p>As new releases of .NET become available, platform support gets better. NativeAOT support for mobile platforms is still experimental, and there’s currently no support for the web platform. The .NET 9.0 release is set to include some improvements to NativeAOT and we may see initial support for the web platform. We’ll see what makes it into the release in November 2024.<p>Using NativeAOT is only one of the ways in which we can add support for more platforms to Godot C# projects, using the Mono runtime is another possibility. For a future Godot release, we want to explore bringing back some of the Mono embedding that was available in Godot 3 as an alternative way to support mobile and web platforms.<p>Please, give Godot <a href=/article/godot-4-2-arrives-in-style>4.2</a> a try and let us know if you find any bugs.</p><style>.article-body table{width:100%}.article-body table tr:nth-child(odd) td{background:#80808021}.article-body table tr:nth-child(even) td{background:#80808047}.article-body table td{padding:10px}.article-body table thead tr{background:var(--background-color);height:43px}.article-body table thead tr th{text-align:center!important}.article-body table tbody tr td{text-align:center!important}</style></div></div></article></div><link rel=stylesheet href=/assets/css/anchor-link.css?1><link rel=stylesheet href=/assets/css/article-cards.css?2><script src=/assets/js/anchor-link.js></script>
<script>document.addEventListener('DOMContentLoaded',()=>{window.applyAnchorLinks('.article-body'),document.querySelectorAll('.article-cover img, .article-body img').forEach(b=>{if(b.classList.contains('lightbox-ignore'))return;const a=document.createElement('a');a.href=b.src,a.classList.add('lightbox'),a.dataset.group='article',b.parentNode.appendChild(a),a.appendChild(b)})})</script></main><footer><div class="container flex footer-container"><div id=copyright><p>© 2007-2024 Juan Linietsky, Ariel Manzur and <a href=https://github.com/godotengine/godot/blob/master/AUTHORS.md target=_blank rel=noopener>contributors</a>.<br>Hosted by the <a href=https://godot.foundation/ target=_blank rel=noopener>Godot Foundation</a>.<br>Website <a href=https://github.com/godotengine/godot-website target=_blank rel=noopener>source code on GitHub</a>.</div><div id=sitemap><ul class=sitemap-group><li><strong>Get Godot</strong><li><a href=/download/windows/ class=set-os-download-url>Download</a><li><a href=/download/archive/>Release Archive</a><li><a href=https://editor.godotengine.org/releases/latest/>Web Editor</a><li>&nbsp;<li><strong>Public Relations</strong><li><a href=/blog/>Blog</a><li><a href=/community/>Communities and Events</a><li><a href=/press/>Press Kit</a></ul><ul class=sitemap-group><li><strong>About Godot</strong><li><a href=/features/>Features</a><li><a href=/showcase/>Showcase</a><li><a href=/education/>Education</a><li><a href=/license/>License</a><li><a href=/code-of-conduct/>Code of Conduct</a><li><a href=/privacy-policy/>Privacy Policy</a><li><a href=https://fund.godotengine.org>Donate</a></ul><ul class=sitemap-group><li><strong>Project Team</strong><li><a href=/governance/>Governance</a><li><a href=/teams/>Teams</a><li>&nbsp;<li><strong>Extra Resources</strong><li><a href=https://godotengine.org/asset-library/asset>Asset Library</a><li><a href=https://docs.godotengine.org>Documentation</a><li><a href=https://github.com/godotengine>Code Repository</a></ul></div><div id=social class=dark-desaturate><h4 class=text-right><a href=/contact/>Contact us</a></h4><div class="flex justify-space-between" style=gap:3px><a href=https://github.com/godotengine target=_blank rel=noopener><img src=/assets/footer/github_logo.svg width=32 height=32 alt=GitHub></a>
<a href=https://mastodon.gamedev.place/@godotengine target=_blank rel=noopener><img src=/assets/footer/mastodon_logo.svg width=32 height=32 alt=Mastodon></a>
<a href=https://twitter.com/godotengine target=_blank rel=noopener><img src=/assets/footer/twitter_logo.svg width=32 height=32 alt=Twitter></a>
<a href=https://www.facebook.com/groups/godotengine/ target=_blank rel=noopener><img src=/assets/footer/facebook_logo.svg width=32 height=32 alt=Facebook></a>
<a href=https://www.reddit.com/r/godot target=_blank rel=noopener><img src=/assets/footer/reddit_logo.svg width=32 height=32 alt=Red​dit></a>
<a href=/rss.xml target=_blank rel=noopener><img src=/assets/footer/feed_logo.svg width=32 height=32 alt="RSS feed"></a></div></div></div></footer><script defer src=/assets/js/tobii.min.js></script>
<script defer src=/assets/js/highlight.min.js?1></script>
<script defer src=/assets/js/highlight.gdscript.min.js?1></script>
<script>document.addEventListener('DOMContentLoaded',()=>{document.querySelectorAll('pre code').forEach(a=>{hljs.highlightBlock(a)}),document.querySelectorAll('[data-post-date]').forEach(a=>{Date.parse(a.dataset.postDate)>Date.now()-1e3*60*60*48&&a.classList.add("post-recent-highlight")}),new Tobii({zoom:!1});const a=document.querySelectorAll('.set-os-download-url');for(let b=0;b<a.length;b++){const c=a[b];let e='download';'version'in c.dataset&&c.dataset.version==='3'&&(e='download/3.x');let d='windows';navigator.platform.indexOf('Mac')!==-1?d='macos':navigator.platform.indexOf('Linux')!==-1&&(d='linux'),c.href=`/${e}/${d}/`}})</script>